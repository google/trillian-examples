# `serverlessclone`

This tool clones any log generated by the [serverless](/serverless/) tooling
that is made available over HTTP or HTTPS.
See background and database setup in the [parent docs](../../README.md).

## Logs

Example commands are provided for known serverless logs below. In all cases, the
`mysql_uri` may need tweaking to your environment. The common parameters used are:
 * server: `localhost`
 * user: `clonetool`
 * password: `letmein`

Each example will also have a named database. The database name picked is
arbitrary at database creation.

### USB Armory

https://github.com/usbarmory/armory-drive-log can be cloned into the `usbarmory`
database using the following command:

```
go run ./clone/cmd/serverlessclone --v=1 --alsologtostderr \
  --url=https://raw.githubusercontent.com/usbarmory/armory-drive-log/master/log/ \
  --vkey=armory-drive-log+16541b8f+AYDPmG5pQp4Bgu0a1mr5uDZ196+t8lIVIfWQSPWmP+Jv \
  --origin="Armory Drive Prod 2" \
  --mysql_uri='clonetool:letmein@tcp(localhost)/usbarmory'
```

### LVFS

https://fwupd.org/ is running an experimental transparency log. This can be
cloned into the `lvfs` database using the following command:

```
go run ./clone/cmd/serverlessclone --v=1 --alsologtostderr \
  --url=https://fwupd.org/ftlog/lvfs/ \
  --vkey=lvfs+7908d142+ASnlGgOh+634tcE/2Lp3wV7k/cLoU6ncawmb/BLC1oMU \
  --origin=lvfs \
  --mysql_uri='clonetool:letmein@tcp(localhost)/lvfs'
```
