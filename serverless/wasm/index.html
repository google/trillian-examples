<html>
	<head>
		<meta charset="utf-8"/>
		<script src="wasm_exec.js"></script>
		<script>
			const go = new Go();
			WebAssembly.instantiateStreaming(fetch("main.wasm"), go.importObject).then((result) => {
				go.run(result.instance);
			});
		</script>
	</head>
	<body>
		<div id="log" style="border: 2px solid; margin: 5px; background: #ddd;">
			<div><b>Log</b></div>
			<div id="latestCP" style="border: 1px solid; height: 5em; background: #eee;"></div>
			<div style="border: 1px solid; background: #eee;">
				<textarea id="logConsole" readonly rows="10" style="width: 100%;"></textarea>
			</div>
			<div>
				<input type="button" value="Sequence" onclick="sequence()"/>
				<input type="button" value="Integrate" onclick="integrate()"/>
				<input type="button" value="DESTROY LOG" style="color: red; float: right;" onclick="sessionStorage.clear()"/>
			</div>
		</div>
		<br/>
		<div id="publisher" style="border: 2px solid; margin: 5px; background: #fdd;">
			<div><b>publisher</b></div>
			<label>Leaf data:</label><input type="text" id="leaf_value" style="width: 80%;"/>
			<input type="button" value="QueueLeaf" onclick="queueLeaf(document.getElementById('leaf_value').value)"/>
		</div>
		<br/>
		<div id="monitor" style="border: 2px solid; margin: 5px; background: #dfd;">
			<div><b>monitor</b></div>
			<div style="border: 1px solid; background: #eee;">
				<textarea id="monitorConsole" readonly rows="10" style="width: 100%;"></textarea>
			</div>
		</div>

	</body>
</html>